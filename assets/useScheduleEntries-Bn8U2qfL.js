import{u as l}from"./useQuery-Cz2LeAXE.js";import{s as m}from"./index-DZgJ29pE.js";const c=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],u={yoga:["Yoga"],"wim-hof":["Método Wim Hof"],hiit:["HIIT"],breathwork:["Breathwork & Meditación"],personalizado:["Personalizado","Método Wim Hof"],default:[]};function v(){return l({queryKey:["schedule-entries"],queryFn:async()=>{const{data:_,error:r}=await m.from("schedule_entries").select("*, services!inner(name, description, is_trial_enabled, color_tag, duration_minutes), professionals(name)").eq("is_active",!0).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(r)throw r;const o=(_||[]).map(e=>{var s,i,a,n,d;return{id:e.id,service_id:e.service_id,professional_id:e.professional_id,day_of_week:e.day_of_week,start_time:e.start_time,display_name:e.display_name,badges:e.badges||[],is_active:e.is_active,sort_order:e.sort_order,service_name:((s=e.services)==null?void 0:s.name)||"",service_description:((i=e.services)==null?void 0:i.description)||null,is_trial_enabled:((a=e.services)==null?void 0:a.is_trial_enabled)||!1,color_tag:((n=e.services)==null?void 0:n.color_tag)||"default",professional_name:((d=e.professionals)==null?void 0:d.name)||null}}),t={};for(const e of c)t[e]=[];for(const e of o){const s=c[e.day_of_week];if(!s)continue;const i=u[e.color_tag]||[],a=e.display_name||e.service_name;t[s].push({time:e.start_time.slice(0,5),title:a,tags:i,badges:e.badges,duration:60,instructor:e.professional_name||void 0,is_trial_enabled:e.is_trial_enabled,description:e.service_description||void 0,color_tag:e.color_tag,service_id:e.service_id})}return{entries:o,scheduleData:t}},staleTime:5*60*1e3})}export{v as u};
