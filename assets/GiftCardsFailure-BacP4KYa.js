import{k as u,r as t,j as s,H as p,f as x,B as i,L as c}from"./index-DZgJ29pE.js";import{C as h}from"./card-B25bVudG.js";import{F as f}from"./Footer-DpLvCSao.js";import{C as j}from"./circle-x-B6_IdfzA.js";function v(){const[n]=u(),a=n.get("order"),[d,e]=t.useState(""),[l,r]=t.useState(!0);return t.useEffect(()=>{if(!a){e("El pago no pudo ser procesado."),r(!1);return}(async()=>{try{const o=await fetch(`https://pyupvlgdtcxgqjungiof.supabase.co/functions/v1/get-order-status?orderId=${a}`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB5dXB2bGdkdGN4Z3FqdW5naW9mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MDU2MzYsImV4cCI6MjA3NjE4MTYzNn0.DGfGzmgZiHVDe46hMeXdhZNecFS6qKplOQHjztrNVHs"}});if(o.ok){const m=await o.json();e(m.statusMessage||"El pago no pudo ser procesado.")}else e("El pago no pudo ser procesado.")}catch{e("El pago no pudo ser procesado.")}finally{r(!1)}})()},[a]),s.jsxs(s.Fragment,{children:[s.jsx(p,{children:s.jsx("title",{children:"Pago Fallido - Gift Cards - Studio La Nave"})}),s.jsx("main",{className:"min-h-screen pt-24 pb-16 px-4 flex items-center justify-center",children:s.jsx(h,{className:"max-w-md w-full p-8 text-center",children:l?s.jsxs("div",{className:"space-y-4",children:[s.jsx(x,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Cargando informaci√≥n..."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(j,{className:"h-16 w-16 mx-auto text-destructive"}),s.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Pago No Completado"}),s.jsx("p",{className:"text-muted-foreground",children:d}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx(i,{asChild:!0,className:"w-full",children:s.jsx(c,{to:"/giftcards",children:"Intentar nuevamente"})}),s.jsx(i,{asChild:!0,variant:"outline",className:"w-full",children:s.jsx(c,{to:"/",children:"Volver al inicio"})})]})]})})}),s.jsx(f,{})]})}export{v as default};
